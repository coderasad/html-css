<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<style>

    :root {
        --main-color : #fff;
    }

    html {
        height       : 100%;
        font-family  : "Spline Sans", sans-serif;
        touch-action : none;
    }

    body {
        min-height       : 100%;
        background-color : var(--main-color);
        overflow-x       : hidden;
        overflow-y       : auto;
    }

    .c-main {
        position         : relative;
        width            : 100vw;
        height           : 100vh;

        transition       : background 0.3s ease;

        background-color : var(--main-color);
    }

    .innerCircle {
        position                   : absolute;
        z-index                    : 9999;
        height                     : 8px;
        width                      : 8px;

        background                 : #000;
        border-radius              : 100%;
        transform                  : translate(-50%, -50%);

        /*mix-blend-mode             : difference;*/
        mix-blend-mode             : normal;

        pointer-events             : none;

        transition-property        : background-color, border, transform;
        transition-duration        : 0.125s;
        transition-timing-function : ease-in-out;
    }

    .innerCircle.activeHover {
        height         : 60px;
        width          : 60px;
        mix-blend-mode : difference;
        background     : #fff;
    }

    .offcanvas-body .nav-link {
        font-size      : 60px;
        line-height    : 42px;
        height         : 52px;
        text-transform : uppercase;
        position       : relative;
        overflow       : hidden;
        transition     : all .5s;
    }

    .offcanvas-body .nav-link span {
        opacity : 0;
    }

    .offcanvas-body .nav-link:hover:after {
        bottom : 10px;
    }

    .offcanvas-body .nav-link:after {
        position   : absolute;
        content    : attr(data-text);
        left       : 16px;
        bottom     : -100px;
        transition : all .5s;
    }

    .offcanvas-body .nav-link:before {
        position   : absolute;
        content    : attr(data-text);
        left       : 16px;
        top        : 0;
        transition : all .5s;
    }

    .offcanvas-body .nav-link:hover:before {
        top : -100px;
    }

    .activeHover {
        transform                  : translate(var(--x), var(--y));
        transition-property        : transform;
        transition-duration        : 0.125s;
        transition-timing-function : ease-in-out;
    }

    .c-main {
        height   : 100vh;
        overflow : auto;
    }

    .container {
        height           : 2000px;
        background-color : antiquewhite;
    }

    .img-container {
        width    : 400px;
        height   : 600px;
        overflow : hidden;
        position : sticky;
        top      : 0;
    }

    .img-container img {
        height : 600px;
    }

    .img-container img:not(:first-child) {
        position : absolute;
        top      : 0;
        left     : 0;
    }


</style>

<section class="c-main" onscroll="myFunc()">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <button class="btn btn-primary float-end my-4 activeHover c-parrallax" type="button"
                        data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">Menu
                </button>

                <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight"
                     aria-labelledby="offcanvasRightLabel">
                    <div class="offcanvas-header">
                        <h5 id="offcanvasRightLabel">Animated Menu Content</h5>
                        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
                                aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                        <div class="d-flex flex-column gap-3">
                            <a href="" id="activeHover" class="nav-link p-0 text-dark activeHover"
                               data-text="Home"><span>Home</span></a>
                            <a href="" class="nav-link p-0 text-dark activeHover"
                               data-text="About"><span>About</span></a>
                            <a href="" class="nav-link p-0 text-dark activeHover" data-text="Blog"><span>Blog</span></a>
                            <a href="" class="nav-link p-0 text-dark activeHover"
                               data-text="Contact"><span>Contact</span></a>
                        </div>
                    </div>
                </div>
            </div>
            <h1 style="height: 800px">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consectetur corporis ea esse et excepturi
                fugit laborum magni mollitia nemo praesentium quam quas, quasi quia repellendus, rerum vel vitae.
                Architecto doloribus dolorum expedita sequi vitae. Ad commodi eaque facere iusto laudantium libero
                nesciunt nisi, praesentium quae rem? Maxime obcaecati officiis vel!</h1>
            <div class="col-12">
                <div class="row">
                    <div class="col-6">
                        <p class="bg-info" style="height: 600px;">
                            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium deserunt dicta
                            distinctio eum facere impedit inventore laboriosam magni molestias nam nihil, optio placeat
                            quod recusandae, rerum similique totam ullam. Animi!
                        </p>
                        <p class="bg-danger" style="height: 600px">Lorem ipsum dolor sit amet, consectetur adipisicing
                            elit. Accusantium
                            aliquid aperiam debitis, deserunt expedita impedit itaque magnam minima nam nesciunt
                            perferendis quam quas quibusdam quidem quod rerum sapiente sint voluptatum.
                        </p>
                        <p class="bg-dark" style="height: 600px">Lorem ipsum dolor sit amet, consectetur adipisicing
                            elit. Accusantium
                            aliquid aperiam debitis, deserunt expedita impedit itaque magnam minima nam nesciunt
                            perferendis quam quas quibusdam quidem quod rerum sapiente sint voluptatum.
                        </p>
                    </div>
                    <div class="col-6">
                        <main>
                            <div class="container">
                                <div class="img-container">
                                    <img src="https://cdn.pixabay.com/photo/2021/12/02/02/58/crane-6839511_960_720.jpg"
                                         alt="" srcset=""/>
                                    <img src="https://cdn.pixabay.com/photo/2021/09/25/12/52/boho-art-6654957_960_720.jpg"
                                         alt=""/>
                                    <img src="https://cdn.pixabay.com/photo/2021/07/23/14/52/submarine-6487509_960_720.png"
                                         alt=""/>
                                </div>
                            </div>
                        </main>
                    </div>
                </div>
            </div>

            <div class="col-12 my-5 py-5">
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. A doloremque dolorum, enim excepturi fugit
                    hic ipsum magni rerum soluta tempora, tempore vero vitae voluptatem. A ab architecto asperiores
                    atque commodi consequuntur corporis cupiditate deleniti deserunt dolores dolorum ducimus eius error
                    exercitationem facilis fuga, harum itaque iure laudantium modi necessitatibus nesciunt, non officia
                    perferendis placeat porro recusandae repellat sapiente tempore ullam vel vero vitae voluptatem. Aut
                    distinctio eum labore minus nostrum optio repellendus ullam. Distinctio et magnam sequi soluta.
                    Alias consequatur dolore et eveniet optio, quod quos repellendus temporibus! Asperiores eos laborum
                    libero quas quo quos repudiandae tempore ut vitae. Aliquam aperiam at aut, beatae cumque dolore
                    doloremque eius eligendi et excepturi facere fuga fugit id ipsum iste labore laudantium magnam
                    molestiae natus nemo neque perferendis quae quam, qui repellat repellendus reprehenderit rerum,
                    saepe sequi tempora vel veniam vitae voluptatum. Aperiam assumenda consequuntur eos in nulla
                    provident ratione voluptas! A ab accusantium amet, animi consectetur corporis debitis dolores in
                    maxime nesciunt nihil non officia possimus quisquam quod sapiente similique, voluptatem! Accusamus
                    aliquid, aut culpa debitis eveniet ex expedita, ipsa molestiae quas recusandae sed tenetur velit
                    voluptatibus? A aliquam atque autem consectetur consequatur deserunt doloremque, eligendi ex
                    exercitationem libero nesciunt, nisi nobis officia porro quia quos, reiciendis similique vero vitae
                    voluptate. Ab accusantium ad asperiores at autem cupiditate deleniti, deserunt distinctio ducimus
                    earum est expedita incidunt ipsam iure, molestiae neque nostrum odit officia officiis praesentium
                    quasi qui similique temporibus veritatis voluptatem. Alias culpa doloremque eaque esse fuga ipsam
                    laboriosam magni odio repudiandae voluptate! Accusantium aliquam neque sunt tempore veritatis.
                    Accusantium corporis culpa, cupiditate error est facere iure molestias perferendis repellendus. Ad
                    debitis fugit hic inventore, iure iusto laboriosam nemo nulla odit quae, quam quibusdam quidem quo
                    repellendus voluptatibus? Assumenda et fugiat labore nam nesciunt nihil optio perspiciatis possimus,
                    suscipit voluptas. Aliquid beatae cumque dolorum earum eligendi est ex, fuga illo iste minus nulla
                    obcaecati officiis rem sit tempora vitae voluptatibus. Delectus deleniti, ea eos ipsam
                    necessitatibus numquam odit reprehenderit velit veritatis voluptatum? A ad assumenda aut,
                    consequuntur earum exercitationem fugiat fugit impedit laboriosam praesentium provident quaerat quo
                    quod ratione repellendus tempore tenetur? Assumenda facere hic sed. A alias blanditiis, cumque
                    deserunt dolore dolorem dolorum facere ipsam maiores maxime nisi numquam placeat porro reprehenderit
                    sequi sunt temporibus? Accusamus beatae debitis dolore earum excepturi id ipsa, officia quia soluta
                    tempore. A amet asperiores atque consequuntur dicta dignissimos dolorum exercitationem fugit illo
                    laboriosam magni minus modi necessitatibus non odit officia perferendis quaerat, quidem recusandae
                    sit, tempore tenetur unde. A ad aperiam consectetur cumque dicta doloremque expedita facilis hic nam
                    natus nesciunt porro possimus quaerat quo quod ratione repellendus tenetur, unde velit voluptas.
                    Adipisci amet error exercitationem iste maxime odio reprehenderit ut voluptas. Amet architecto at
                    atque autem delectus dignissimos dolorum ea eos eum ex explicabo facere ipsum iste labore minima
                    minus, non nulla quae quas quasi sequi similique sit sunt tempora ullam ut velit? A aut culpa
                    debitis delectus dolores ducimus error esse est impedit in ipsa ipsam iste labore laudantium magnam
                    mollitia nemo obcaecati pariatur, porro quae quam quas, recusandae sequi, similique veritatis
                    voluptas voluptatibus. Earum facilis impedit odio? Aspernatur assumenda incidunt ipsa quas
                    recusandae soluta, veniam veritatis voluptatem voluptates. Ex fugit id nobis! Autem cumque dolores
                    ea earum eius et fuga harum in ipsa ipsam maiores mollitia necessitatibus, provident quae quas quo
                    repudiandae sapiente sequi tenetur veniam veritatis vitae voluptatum. A architecto asperiores
                    blanditiis doloribus eum, in neque qui voluptates. Accusantium beatae consectetur dolor doloremque
                    dolores ex excepturi facilis fugit inventore iure libero magnam, molestiae necessitatibus nesciunt
                    odit porro recusandae saepe tempore. Alias at beatae cupiditate deleniti dignissimos doloremque ea
                    earum eum facere hic in laborum modi nam nemo non qui quidem quisquam reprehenderit rerum sapiente
                    ut vitae, voluptatem? Accusantium aliquam architecto aspernatur atque debitis deleniti deserunt
                    dolor enim excepturi, exercitationem hic illo in incidunt ipsa iusto labore laborum maxime nam
                    necessitatibus nulla numquam officia optio porro, quis quod quos repellat sapiente similique sunt
                    tempore temporibus tenetur vel voluptatem? Consequuntur iusto mollitia natus nemo perspiciatis qui
                    vel. Accusamus aliquid architecto asperiores dolores ea, eaque eum expedita in itaque molestias nam
                    non numquam obcaecati odit, officia optio pariatur porro quas quia quidem quisquam reiciendis
                    repudiandae rerum, sed sit ut vitae voluptates. Assumenda cupiditate explicabo harum illum, neque
                    quisquam quo sequi totam ut velit. Blanditiis deleniti distinctio doloremque ea, illo illum minima
                    nesciunt nostrum quasi quod totam, veniam voluptas! Architecto dolor dolore doloribus eligendi id
                    illo in magnam nihil nulla, omnis pariatur quidem quod reprehenderit saepe sunt voluptas voluptates.
                    Atque autem blanditiis corporis cum doloremque eum incidunt inventore, itaque modi nemo neque nobis
                    numquam repudiandae sequi ullam! Accusantium architecto atque culpa dignissimos dolor dolorum
                    expedita harum, hic ipsum, iste iusto libero magni, maxime nobis omnis quaerat quibusdam quos
                    ratione reiciendis rem sequi similique vero! A adipisci aliquam aperiam, consequatur cupiditate
                    debitis dolor doloribus ducimus eligendi et expedita fugiat hic illum ipsam ipsum laboriosam magni
                    maiores modi molestiae natus nisi placeat, porro quas quasi qui quisquam quo sed ullam voluptatem
                    voluptatum? Accusamus alias asperiores, deleniti enim ex facilis laudantium maxime natus nesciunt
                    nihil nostrum pariatur possimus quas similique voluptatem. Accusamus ad aspernatur at cum ex
                    explicabo fugiat, incidunt ipsa minima nesciunt nihil, officiis perspiciatis placeat possimus quia
                    quibusdam ratione repudiandae rerum sequi sint suscipit temporibus, velit voluptates! Ab ad adipisci
                    animi architecto atque autem consequatur eaque earum eum, exercitationem harum hic incidunt
                    laudantium modi natus neque officiis omnis perspiciatis provident quia quis saepe similique sint sit
                    soluta tempora tenetur ut velit veniam vitae? Aliquam architecto at beatae blanditiis consectetur
                    consequuntur, eligendi expedita fugit iste itaque molestias nam necessitatibus odit omnis porro
                    provident quis quo quod quos rem saepe sint tempora ullam, vero voluptatibus. Animi repudiandae
                    temporibus unde veniam voluptates? Commodi corporis doloremque dolores dolorum eaque et expedita
                    labore libero minima, mollitia nam numquam optio quasi repellendus repudiandae veniam voluptatibus.
                    Aliquam aliquid amet, dolorem eaque earum error est et excepturi explicabo fuga fugiat hic id itaque
                    labore minima modi molestias nam necessitatibus nisi nostrum nulla odit perferendis praesentium quam
                    quia quis recusandae repellendus sint soluta tenetur ut.</p>
            </div>
        </div>
    </div>
</section>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossOrigin="anonymous"></script>

<script>
    const requestAnimationFrame =
              window.requestAnimationFrame ||
              window.mozRequestAnimationFrame ||
              window.webkitRequestAnimationFrame ||
              window.msRequestAnimationFrame;

    class CustomCursor {
        constructor(parent, options = {speed, fade}) {
            if (parent === "body") {
                this.parentElement = document.body;
            } else {
                this.parentElement = document.querySelector(parent);
            }
            this.speed     = options.speed;
            this.circlePos = {x: 0, y: 0};
            this.dotPos    = {x: 0, y: 0};
            this.mousePos  = {x: 0, y: 0};
            this.dot;
            this.circle;
            this.isMoving = false;
            this.fade     = options.fade;
            this.createMouse();
        }

        handleClickDown(e) {
            if (this.fade) {
                if (!this.isMoving) {
                    this.isMoving = true;
                    this.fadeInMouse();
                }
                clearTimeout(this.timeout);
                this.timeout = setTimeout(() => {
                    this.fadeOutMouse();
                    this.isMoving = false;
                }, 500);
            }

            this.dot.style.transform          = `scale(2) translate(-25%, -25%)`;
            this.circle.style.backgroundColor = "transparent";
            this.circle.style.border          = "2px solid #fff";
        }

        handleClickUp(e) {
            this.dot.style.transform          = "scale(1) translate(-50%, -50%)";
            this.circle.style.backgroundColor = "#fff";
            this.circle.style.border          = "none";
        }

        followMouse() {
            //1. find distance X , distance Y
            let distX = this.mousePos.x - this.circlePos.x;
            let distY = this.mousePos.y - this.circlePos.y;

            //Progressive reduction of distance
            this.circlePos.x += distX / this.speed;
            this.circlePos.y += distY / this.speed;

            this.dotPos.x += this.mousePos.x - this.dotPos.x;
            this.dotPos.y += this.mousePos.y - this.dotPos.y;

            this.circle.style.left = this.circlePos.x + "px";
            this.circle.style.top  = this.circlePos.y + "px";

            this.dot.style.left = this.dotPos.x + "px";
            this.dot.style.top  = this.dotPos.y + "px";

            requestAnimationFrame(() => this.followMouse());
        }

        fadeOutMouse() {
            this.dot.style.opacity      = "0";
            this.dot.style.transform    = "scale(0) translate(-50%, -50%)";
            this.circle.style.opacity   = "0";
            this.circle.style.transform = "scale(0) translate(-50%, -50%)";
        }

        fadeInMouse() {
            this.dot.style.opacity      = "1";
            this.dot.style.transform    = "scale(1) translate(-50%, -50%)";
            this.circle.style.opacity   = "1";
            this.circle.style.transform = "scale(1) translate(-50%, -50%)";
        }

        getMouse(e) {
            if (this.fade) {
                if (!this.isMoving) {
                    this.isMoving = true;
                    this.fadeInMouse();
                }
                clearTimeout(this.timeout);
                this.timeout = setTimeout(() => {
                    this.fadeOutMouse();
                    this.isMoving = false;
                }, 2000);
            }

            if (e.type == "touchmove" || e.type == "touchdown") {
                this.handleClickUp();
                e.preventDefault();
                const touch     = e.changedTouches[0];
                this.mousePos.x = touch.pageX;
                this.mousePos.y = touch.pageY;
            } else {
                this.mousePos.x = e.pageX;
                this.mousePos.y = e.pageY;
            }
        }

        createMouse() {
            if (this.parentElement !== null) {
                const innerCircle = document.createElement("span");
                const outerCircle = document.createElement("span");

                innerCircle.setAttribute("class", "innerCircle");
                outerCircle.setAttribute("class", "outerCircle");

                this.dot    = this.parentElement.appendChild(innerCircle);
                this.circle = this.parentElement.appendChild(outerCircle);
            }

            this.followMouse();
            // setInterval(() => {this.followMouse()}, 20);

            this.parentElement.addEventListener("touchmove", (e) => this.getMouse(e));
            this.parentElement.addEventListener("mousemove", (e) => this.getMouse(e));
            this.parentElement.addEventListener("touchend", (e) =>
                this.handleClickUp(e)
            );
            this.parentElement.addEventListener("pointerdown", (e) =>
                this.handleClickDown(e)
            );
            this.parentElement.addEventListener("pointerup", (e) =>
                this.handleClickUp(e)
            );
        }
    }

    const init = () => {
        const mouse = new CustomCursor("body", {
            speed: 10,
            fade : true
        });

        let previousColor = "";
    };

    window.addEventListener("DOMContentLoaded",
        () => {
            init();

            const big2 = document.querySelectorAll('.activeHover');

            big2.forEach(elem => {
                elem.addEventListener('mousemove', e => {
                    const x = Math.floor(Math.random() * 10) + 1
                    const y = Math.floor(Math.random() * 10) + 1
                    elem.style.setProperty('--x', x + 'px')
                    elem.style.setProperty('--y', y + 'px')
                })
            })

            let big = document.querySelectorAll('.activeHover');
            big.forEach(ele => {
                ele.addEventListener('mouseover', e => {
                    document.querySelector('.innerCircle').classList.add('activeHover')
                })
                ele.addEventListener('mouseout', e => {
                    document.querySelector('.innerCircle').classList.remove('activeHover')

                })
            })

        });

    // scroll image animation
    const myFunc = () => {
        const main = document.querySelector(".c-main");
        let y      = main.scrollTop;


        const img2 = document.querySelector("img:nth-child(2)");
        const img3 = document.querySelector("img:nth-child(3)");

        if (y > 1600) {
            img2.style.top = `-${y - 1600}px`;
        } else {
            img2.style.top = `0px`;
        }
        if (y > 800) {
            img3.style.top = `-${y - 800}px`;
        } else {
            img3.style.top = `0px`;
        }
    };

</script>

</body>

</html>